<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SAS ‚Äì Idir Guettab</title>
  <link rel="stylesheet" href="/assets/css/style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0a0a0b"/>
  <link rel="icon" type="image/png" href="/assets/images/icon_IG.png"/>
</head>
<body>

<!-- Header -->
<header class="site">
  <div class="inner">
    <a href="../home.html" class="logo">
      <div class="logo-icon">IG</div>
      <div class="logo-text">Idir <span>Guettab</span></div>
    </a>
    <nav>
      <a href="../home.html#projets">Projets</a>
      <a href="../home.html#competences">Skills</a>
      <a href="../menu_cheatsheep.html" class="active">Cheatsheets</a>
      <a href="../home.html#contact">Contact</a>
    </nav>
  </div>
</header>

<!-- Navigation -->
<div class="nav-buttons">
  <a href="../menu_cheatsheep.html" class="btn btn-outline">
    ‚Üê Toutes les cheatsheets
  </a>
</div>

<div class="container">
  <h1>SAS ‚Äì Guide Complet</h1>
  <p>R√©f√©rence compl√®te : <strong>DATA Step</strong>, <strong>PROC</strong>, <strong>SQL</strong>, <strong>Macros</strong> et bonnes pratiques.</p>

  <!-- ==================== SECTION 1: BASES ==================== -->
  <h2><span class="section-icon">üìö</span>Les Fondamentaux</h2>

  <h3>Structure d'un programme SAS</h3>
  <pre><code><span class="comment">/* Un programme SAS = encha√Ænement d'√©tapes DATA et PROC */</span>

<span class="keyword">data</span> ma_table;        <span class="comment">/* √âtape DATA : cr√©er/modifier donn√©es */</span>
  <span class="keyword">set</span> source;
  nouvelle_var = calcul;
<span class="keyword">run;</span>

<span class="keyword">proc print</span> data=ma_table;  <span class="comment">/* √âtape PROC : analyser/afficher */</span>
<span class="keyword">run;</span></code></pre>

  <h3>Biblioth√®ques (LIBNAME)</h3>
  <pre><code><span class="comment">/* Cr√©er une r√©f√©rence vers un dossier */</span>
<span class="keyword">libname</span> mylib <span class="string">"/chemin/vers/dossier"</span>;

<span class="comment">/* Acc√©der √† une table */</span>
<span class="keyword">data</span> work.copie;
  <span class="keyword">set</span> mylib.ma_table;
<span class="keyword">run;</span>

<span class="comment">/* WORK = biblioth√®que temporaire (supprim√©e √† la fin de session) */</span></code></pre>

  <div class="tip">
    <strong>Astuce :</strong> <code>WORK</code> est la biblioth√®que par d√©faut. <code>data test;</code> = <code>data work.test;</code>
  </div>

  <!-- ==================== SECTION 2: DATA STEP ==================== -->
  <h2><span class="section-icon">üîß</span>DATA Step ‚Äì Manipuler les donn√©es</h2>

  <h3>Cr√©er et modifier des variables</h3>
  <pre><code><span class="keyword">data</span> resultat;
  <span class="keyword">set</span> source;

  <span class="comment">/* Nouvelle variable calcul√©e */</span>
  prix_ttc = prix_ht * 1.20;

  <span class="comment">/* Variable conditionnelle */</span>
  <span class="keyword">if</span> age < 18 <span class="keyword">then</span> categorie = <span class="string">'Mineur'</span>;
  <span class="keyword">else if</span> age <= 65 <span class="keyword">then</span> categorie = <span class="string">'Adulte'</span>;
  <span class="keyword">else</span> categorie = <span class="string">'Senior'</span>;

  <span class="comment">/* Variable avec LENGTH (d√©finir taille avant utilisation) */</span>
  <span class="keyword">length</span> categorie $10;
<span class="keyword">run;</span></code></pre>

  <h3>S√©lectionner des colonnes (KEEP / DROP)</h3>
  <pre><code><span class="comment">/* Garder seulement certaines colonnes */</span>
<span class="keyword">data</span> resultat;
  <span class="keyword">set</span> source (<span class="keyword">keep</span>=nom prenom age);
<span class="keyword">run;</span>

<span class="comment">/* Exclure des colonnes */</span>
<span class="keyword">data</span> resultat;
  <span class="keyword">set</span> source (<span class="keyword">drop</span>=colonne_inutile autre_colonne);
<span class="keyword">run;</span>

<span class="comment">/* KEEP/DROP en sortie (apr√®s calculs) */</span>
<span class="keyword">data</span> resultat (<span class="keyword">keep</span>=nom total);
  <span class="keyword">set</span> source;
  total = prix * quantite;
<span class="keyword">run;</span></code></pre>

  <h3>Filtrer des lignes (WHERE vs IF)</h3>
  <pre><code><span class="comment">/* WHERE : filtre √† la lecture (plus performant) */</span>
<span class="keyword">data</span> adultes;
  <span class="keyword">set</span> population;
  <span class="keyword">where</span> age >= 18 <span class="keyword">and</span> ville = <span class="string">'Paris'</span>;
<span class="keyword">run;</span>

<span class="comment">/* IF : filtre apr√®s lecture (pour variables calcul√©es) */</span>
<span class="keyword">data</span> gros_achats;
  <span class="keyword">set</span> commandes;
  total = prix * quantite;  <span class="comment">/* calcul d'abord */</span>
  <span class="keyword">if</span> total > 1000;          <span class="comment">/* filtre ensuite */</span>
<span class="keyword">run;</span></code></pre>

  <div class="warning">
    <strong>Attention :</strong> <code>WHERE</code> ne peut pas utiliser de variables cr√©√©es dans le m√™me DATA step.
  </div>

  <h3>Renommer des colonnes</h3>
  <pre><code><span class="keyword">data</span> resultat;
  <span class="keyword">set</span> source (<span class="keyword">rename</span>=(ancien_nom=nouveau_nom
                      col1=colonne1));
<span class="keyword">run;</span></code></pre>

  <h3>Trier les donn√©es (PROC SORT)</h3>
  <pre><code><span class="comment">/* Tri croissant */</span>
<span class="keyword">proc sort</span> data=ma_table;
  <span class="keyword">by</span> nom prenom;
<span class="keyword">run;</span>

<span class="comment">/* Tri d√©croissant */</span>
<span class="keyword">proc sort</span> data=ma_table;
  <span class="keyword">by descending</span> date <span class="keyword">descending</span> montant;
<span class="keyword">run;</span>

<span class="comment">/* Supprimer les doublons */</span>
<span class="keyword">proc sort</span> data=ma_table <span class="keyword">nodupkey</span>;
  <span class="keyword">by</span> id_client;
<span class="keyword">run;</span></code></pre>

  <!-- ==================== SECTION 3: JOINTURES ==================== -->
  <h2><span class="section-icon">üîó</span>Jointures ‚Äì Fusionner des tables</h2>

  <h3>MERGE (DATA Step)</h3>
  <pre><code><span class="comment">/* Les tables DOIVENT √™tre tri√©es par la cl√© */</span>
<span class="keyword">proc sort</span> data=clients; <span class="keyword">by</span> id_client; <span class="keyword">run;</span>
<span class="keyword">proc sort</span> data=commandes; <span class="keyword">by</span> id_client; <span class="keyword">run;</span>

<span class="comment">/* INNER JOIN (garder seulement les correspondances) */</span>
<span class="keyword">data</span> fusion;
  <span class="keyword">merge</span> clients(<span class="keyword">in</span>=a) commandes(<span class="keyword">in</span>=b);
  <span class="keyword">by</span> id_client;
  <span class="keyword">if</span> a <span class="keyword">and</span> b;
<span class="keyword">run;</span>

<span class="comment">/* LEFT JOIN (garder tous les clients) */</span>
<span class="keyword">data</span> fusion;
  <span class="keyword">merge</span> clients(<span class="keyword">in</span>=a) commandes(<span class="keyword">in</span>=b);
  <span class="keyword">by</span> id_client;
  <span class="keyword">if</span> a;
<span class="keyword">run;</span>

<span class="comment">/* FULL JOIN (garder tout) */</span>
<span class="keyword">data</span> fusion;
  <span class="keyword">merge</span> clients commandes;
  <span class="keyword">by</span> id_client;
<span class="keyword">run;</span></code></pre>

  <h3>SQL JOIN (PROC SQL)</h3>
  <pre><code><span class="keyword">proc sql;</span>
  <span class="keyword">create table</span> fusion <span class="keyword">as</span>
  <span class="keyword">select</span> a.*, b.montant, b.date_commande
  <span class="keyword">from</span> clients <span class="keyword">as</span> a
  <span class="keyword">inner join</span> commandes <span class="keyword">as</span> b
    <span class="keyword">on</span> a.id_client = b.id_client;
<span class="keyword">quit;</span>

<span class="comment">/* LEFT JOIN */</span>
<span class="keyword">proc sql;</span>
  <span class="keyword">create table</span> fusion <span class="keyword">as</span>
  <span class="keyword">select</span> a.*, b.montant
  <span class="keyword">from</span> clients <span class="keyword">as</span> a
  <span class="keyword">left join</span> commandes <span class="keyword">as</span> b
    <span class="keyword">on</span> a.id_client = b.id_client;
<span class="keyword">quit;</span></code></pre>

  <h3>Empiler des tables (UNION)</h3>
  <pre><code><span class="comment">/* Avec DATA step */</span>
<span class="keyword">data</span> tout;
  <span class="keyword">set</span> table1 table2 table3;
<span class="keyword">run;</span>

<span class="comment">/* Avec PROC APPEND (plus rapide pour grosses tables) */</span>
<span class="keyword">proc append</span> base=table_existante data=nouvelles_lignes;
<span class="keyword">run;</span>

<span class="comment">/* Avec SQL */</span>
<span class="keyword">proc sql;</span>
  <span class="keyword">create table</span> tout <span class="keyword">as</span>
  <span class="keyword">select</span> * <span class="keyword">from</span> table1
  <span class="keyword">union all</span>
  <span class="keyword">select</span> * <span class="keyword">from</span> table2;
<span class="keyword">quit;</span></code></pre>

  <!-- ==================== SECTION 4: PROC SQL ==================== -->
  <h2><span class="section-icon">üíæ</span>PROC SQL ‚Äì Requ√™tes SQL</h2>

  <pre><code><span class="keyword">proc sql;</span>
  <span class="comment">/* Cr√©er une table */</span>
  <span class="keyword">create table</span> resultat <span class="keyword">as</span>
  <span class="keyword">select</span>
    departement,
    <span class="keyword">count</span>(*) <span class="keyword">as</span> nb_employes,
    <span class="keyword">avg</span>(salaire) <span class="keyword">as</span> salaire_moyen <span class="keyword">format</span>=8.2,
    <span class="keyword">sum</span>(salaire) <span class="keyword">as</span> masse_salariale
  <span class="keyword">from</span> employes
  <span class="keyword">where</span> statut = <span class="string">'Actif'</span>
  <span class="keyword">group by</span> departement
  <span class="keyword">having</span> <span class="keyword">count</span>(*) > 5
  <span class="keyword">order by</span> salaire_moyen <span class="keyword">desc</span>;
<span class="keyword">quit;</span>

<span class="comment">/* Sous-requ√™te */</span>
<span class="keyword">proc sql;</span>
  <span class="keyword">select</span> * <span class="keyword">from</span> employes
  <span class="keyword">where</span> salaire > (<span class="keyword">select avg</span>(salaire) <span class="keyword">from</span> employes);
<span class="keyword">quit;</span></code></pre>

  <!-- ==================== SECTION 5: FONCTIONS ==================== -->
  <h2><span class="section-icon">‚ö°</span>Fonctions Essentielles</h2>

  <h3>Fonctions Texte</h3>
  <pre><code><span class="comment">/* Majuscules / Minuscules */</span>
nom_maj = <span class="keyword">upcase</span>(nom);           <span class="comment">/* PIERRE */</span>
nom_min = <span class="keyword">lowcase</span>(nom);           <span class="comment">/* pierre */</span>
nom_prop = <span class="keyword">propcase</span>(nom);         <span class="comment">/* Pierre */</span>

<span class="comment">/* Extraire / Manipuler */</span>
debut = <span class="keyword">substr</span>(texte, 1, 3);      <span class="comment">/* 3 premiers caract√®res */</span>
longueur = <span class="keyword">length</span>(texte);         <span class="comment">/* nombre de caract√®res */</span>
position = <span class="keyword">index</span>(texte, <span class="string">'mot'</span>);   <span class="comment">/* position du mot */</span>

<span class="comment">/* Nettoyer */</span>
propre = <span class="keyword">strip</span>(texte);            <span class="comment">/* supprime espaces d√©but/fin */</span>
propre = <span class="keyword">compress</span>(texte);         <span class="comment">/* supprime tous les espaces */</span>
propre = <span class="keyword">compress</span>(texte, <span class="string">'0123456789'</span>, <span class="string">'k'</span>);  <span class="comment">/* garde que les chiffres */</span>

<span class="comment">/* Remplacer */</span>
nouveau = <span class="keyword">tranwrd</span>(texte, <span class="string">'ancien'</span>, <span class="string">'nouveau'</span>);

<span class="comment">/* Concat√©ner */</span>
nom_complet = <span class="keyword">catx</span>(<span class="string">' '</span>, prenom, nom);  <span class="comment">/* avec s√©parateur */</span>
nom_complet = prenom || <span class="string">' '</span> || nom;    <span class="comment">/* concat√©nation simple */</span></code></pre>

  <h3>Fonctions Num√©riques</h3>
  <pre><code>arrondi = <span class="keyword">round</span>(valeur, 0.01);    <span class="comment">/* arrondir √† 2 d√©cimales */</span>
entier = <span class="keyword">int</span>(valeur);             <span class="comment">/* partie enti√®re */</span>
absolu = <span class="keyword">abs</span>(valeur);             <span class="comment">/* valeur absolue */</span>
minimum = <span class="keyword">min</span>(a, b, c);           <span class="comment">/* minimum */</span>
maximum = <span class="keyword">max</span>(a, b, c);           <span class="comment">/* maximum */</span>
somme = <span class="keyword">sum</span>(a, b, c);             <span class="comment">/* somme (ignore les missings) */</span></code></pre>

  <h3>Fonctions Date</h3>
  <pre><code><span class="comment">/* Date du jour */</span>
aujourdhui = <span class="keyword">today()</span>;
maintenant = <span class="keyword">datetime()</span>;

<span class="comment">/* Extraire composants */</span>
annee = <span class="keyword">year</span>(ma_date);
mois = <span class="keyword">month</span>(ma_date);
jour = <span class="keyword">day</span>(ma_date);

<span class="comment">/* Cr√©er une date */</span>
ma_date = <span class="keyword">mdy</span>(12, 25, 2025);     <span class="comment">/* mois, jour, ann√©e */</span>

<span class="comment">/* Calculs */</span>
age = <span class="keyword">intck</span>(<span class="string">'year'</span>, date_naissance, today());
date_future = <span class="keyword">intnx</span>(<span class="string">'month'</span>, today(), 3);  <span class="comment">/* +3 mois */</span></code></pre>

  <h3>Conversions (PUT / INPUT)</h3>
  <pre><code><span class="comment">/* Num√©rique ‚Üí Texte */</span>
age_txt = <span class="keyword">put</span>(age, 3.);              <span class="comment">/* 25 ‚Üí "25" */</span>
date_txt = <span class="keyword">put</span>(ma_date, date9.);     <span class="comment">/* ‚Üí "25DEC2025" */</span>

<span class="comment">/* Texte ‚Üí Num√©rique */</span>
age_num = <span class="keyword">input</span>(age_txt, 3.);        <span class="comment">/* "25" ‚Üí 25 */</span>
date_num = <span class="keyword">input</span>(<span class="string">'2025-12-25'</span>, yymmdd10.);</code></pre>

  <!-- ==================== SECTION 6: FORMATS ==================== -->
  <h2><span class="section-icon">üé®</span>Formats d'Affichage</h2>

  <pre><code><span class="keyword">data</span> ma_table;
  <span class="keyword">set</span> source;

  <span class="comment">/* Appliquer des formats */</span>
  <span class="keyword">format</span>
    date_achat date9.         <span class="comment">/* 25DEC2025 */</span>
    date_fr ddmmyy10.         <span class="comment">/* 25/12/2025 */</span>
    montant comma12.2         <span class="comment">/* 1,234,567.89 */</span>
    montant_euro eurox12.2    <span class="comment">/* 1.234.567,89 */</span>
    pourcentage percent8.1    <span class="comment">/* 75.5% */</span>
  ;
<span class="keyword">run;</span>

<span class="comment">/* Formats personnalis√©s */</span>
<span class="keyword">proc format;</span>
  <span class="keyword">value</span> $statut_fmt
    <span class="string">'A'</span> = <span class="string">'Actif'</span>
    <span class="string">'I'</span> = <span class="string">'Inactif'</span>
    <span class="string">'S'</span> = <span class="string">'Suspendu'</span>
  ;
  <span class="keyword">value</span> age_grp
    0-17 = <span class="string">'Mineur'</span>
    18-64 = <span class="string">'Adulte'</span>
    65-high = <span class="string">'Senior'</span>
  ;
<span class="keyword">run;</span>

<span class="comment">/* Utiliser le format */</span>
<span class="keyword">format</span> statut $statut_fmt. age age_grp.;</code></pre>

  <!-- ==================== SECTION 7: PROCEDURES ==================== -->
  <h2><span class="section-icon">üìä</span>Proc√©dures Courantes</h2>

  <h3>PROC PRINT ‚Äì Afficher</h3>
  <pre><code><span class="keyword">proc print</span> data=ma_table (<span class="keyword">obs</span>=10);
  <span class="keyword">var</span> nom prenom age;
  <span class="keyword">where</span> age > 30;
<span class="keyword">run;</span></code></pre>

  <h3>PROC FREQ ‚Äì Fr√©quences</h3>
  <pre><code><span class="comment">/* Tableau simple */</span>
<span class="keyword">proc freq</span> data=ma_table;
  <span class="keyword">tables</span> categorie;
<span class="keyword">run;</span>

<span class="comment">/* Tableau crois√© */</span>
<span class="keyword">proc freq</span> data=ma_table;
  <span class="keyword">tables</span> categorie * region / <span class="keyword">nocol norow nopercent</span>;
<span class="keyword">run;</span>

<span class="comment">/* Exporter dans une table */</span>
<span class="keyword">proc freq</span> data=ma_table;
  <span class="keyword">tables</span> categorie / <span class="keyword">out</span>=freq_resultat;
<span class="keyword">run;</span></code></pre>

  <h3>PROC MEANS ‚Äì Statistiques</h3>
  <pre><code><span class="keyword">proc means</span> data=ma_table <span class="keyword">n mean std min max</span>;
  <span class="keyword">var</span> salaire age;
  <span class="keyword">class</span> departement;
  <span class="keyword">output out</span>=stats <span class="keyword">mean</span>=salaire_moy age_moy;
<span class="keyword">run;</span></code></pre>

  <h3>PROC CONTENTS ‚Äì M√©tadonn√©es</h3>
  <pre><code><span class="comment">/* Afficher structure */</span>
<span class="keyword">proc contents</span> data=ma_table;
<span class="keyword">run;</span>

<span class="comment">/* Exporter m√©tadonn√©es */</span>
<span class="keyword">proc contents</span> data=ma_table <span class="keyword">out</span>=meta_table <span class="keyword">noprint</span>;
<span class="keyword">run;</span></code></pre>

  <h3>PROC COMPARE ‚Äì Comparer</h3>
  <pre><code><span class="keyword">proc compare</span>
  base=table_avant
  compare=table_apres
  <span class="keyword">out</span>=differences
  <span class="keyword">outnoequal</span>;
  <span class="keyword">id</span> id_client;
<span class="keyword">run;</span></code></pre>

  <!-- ==================== SECTION 8: IMPORT/EXPORT ==================== -->
  <h2><span class="section-icon">üì•</span>Import / Export</h2>

  <h3>Importer des fichiers</h3>
  <pre><code><span class="comment">/* CSV */</span>
<span class="keyword">proc import</span> datafile=<span class="string">"/chemin/fichier.csv"</span>
  <span class="keyword">out</span>=ma_table
  <span class="keyword">dbms</span>=csv <span class="keyword">replace</span>;
  <span class="keyword">getnames</span>=yes;
  <span class="keyword">guessingrows</span>=max;
<span class="keyword">run;</span>

<span class="comment">/* Excel */</span>
<span class="keyword">proc import</span> datafile=<span class="string">"/chemin/fichier.xlsx"</span>
  <span class="keyword">out</span>=ma_table
  <span class="keyword">dbms</span>=xlsx <span class="keyword">replace</span>;
  <span class="keyword">sheet</span>=<span class="string">"Feuille1"</span>;
  <span class="keyword">getnames</span>=yes;
<span class="keyword">run;</span></code></pre>

  <h3>Exporter des fichiers</h3>
  <pre><code><span class="comment">/* CSV */</span>
<span class="keyword">proc export</span> data=ma_table
  <span class="keyword">outfile</span>=<span class="string">"/chemin/export.csv"</span>
  <span class="keyword">dbms</span>=csv <span class="keyword">replace</span>;
<span class="keyword">run;</span>

<span class="comment">/* Excel */</span>
<span class="keyword">proc export</span> data=ma_table
  <span class="keyword">outfile</span>=<span class="string">"/chemin/export.xlsx"</span>
  <span class="keyword">dbms</span>=xlsx <span class="keyword">replace</span>;
  <span class="keyword">sheet</span>=<span class="string">"Donn√©es"</span>;
<span class="keyword">run;</span></code></pre>

  <!-- ==================== SECTION 9: MACROS ==================== -->
  <h2><span class="section-icon">üîß</span>Macros SAS</h2>

  <h3>Variables Macro</h3>
  <pre><code><span class="comment">/* D√©finir une variable */</span>
<span class="keyword">%let</span> annee = 2025;
<span class="keyword">%let</span> chemin = /dossier/data;

<span class="comment">/* Utiliser une variable */</span>
<span class="keyword">data</span> donnees_&annee;
  <span class="keyword">set</span> <span class="string">"&chemin/source.sas7bdat"</span>;
  <span class="keyword">where year</span>(date) = &annee;
<span class="keyword">run;</span>

<span class="comment">/* Afficher dans le log */</span>
<span class="keyword">%put</span> Ann√©e en cours : &annee;</code></pre>

  <h3>Cr√©er une Macro</h3>
  <pre><code><span class="comment">/* Macro simple */</span>
<span class="keyword">%macro</span> nettoyer_work;
  <span class="keyword">proc datasets</span> library=work <span class="keyword">kill nolist</span>;
  <span class="keyword">quit;</span>
<span class="keyword">%mend</span>;

<span class="comment">/* Appel */</span>
%nettoyer_work;

<span class="comment">/* Macro avec param√®tres */</span>
<span class="keyword">%macro</span> stats_table(table=, var=);
  <span class="keyword">proc means</span> data=&table;
    <span class="keyword">var</span> &var;
  <span class="keyword">run;</span>
<span class="keyword">%mend</span>;

<span class="comment">/* Appel */</span>
%stats_table(table=employes, var=salaire)</code></pre>

  <h3>Boucles et Conditions</h3>
  <pre><code><span class="comment">/* Boucle %DO */</span>
<span class="keyword">%macro</span> traiter_annees;
  <span class="keyword">%do</span> an = 2020 <span class="keyword">%to</span> 2025;
    <span class="keyword">data</span> data_&an;
      <span class="keyword">set</span> source;
      <span class="keyword">where year</span>(date) = &an;
    <span class="keyword">run;</span>
  <span class="keyword">%end;</span>
<span class="keyword">%mend</span>;

<span class="comment">/* Condition %IF */</span>
<span class="keyword">%macro</span> rapport(type=);
  <span class="keyword">%if</span> &type = detail <span class="keyword">%then %do;</span>
    <span class="keyword">proc print</span> data=ma_table; <span class="keyword">run;</span>
  <span class="keyword">%end;</span>
  <span class="keyword">%else %do;</span>
    <span class="keyword">proc means</span> data=ma_table; <span class="keyword">run;</span>
  <span class="keyword">%end;</span>
<span class="keyword">%mend</span>;</code></pre>

  <h3>Fonctions Macro Utiles</h3>
  <pre><code><span class="comment">/* Date du jour format√©e */</span>
<span class="keyword">%let</span> today = <span class="keyword">%sysfunc</span>(today(), date9.);
<span class="keyword">%let</span> now = <span class="keyword">%sysfunc</span>(datetime(), datetime20.);

<span class="comment">/* V√©rifier si table existe */</span>
<span class="keyword">%let</span> existe = <span class="keyword">%sysfunc</span>(exist(work.ma_table));

<span class="comment">/* Nombre d'observations */</span>
<span class="keyword">%let</span> nobs = <span class="keyword">%sysfunc</span>(attrn(<span class="keyword">%sysfunc</span>(open(ma_table)), nobs));

<span class="comment">/* Scanner une liste */</span>
<span class="keyword">%let</span> liste = A B C D;
<span class="keyword">%let</span> item2 = <span class="keyword">%scan</span>(&liste, 2);  <span class="comment">/* B */</span></code></pre>

  <!-- ==================== SECTION 10: BONNES PRATIQUES ==================== -->
  <h2><span class="section-icon">‚úÖ</span>Bonnes Pratiques</h2>

  <h3>Debug et Log</h3>
  <pre><code><span class="comment">/* Activer les options de debug */</span>
<span class="keyword">options</span> mprint mlogic symbolgen;

<span class="comment">/* D√©sactiver */</span>
<span class="keyword">options</span> nomprint nomlogic nosymbolgen;

<span class="comment">/* Messages personnalis√©s */</span>
<span class="keyword">%put</span> NOTE: Traitement termin√©;
<span class="keyword">%put</span> WARNING: Attention, donn√©es manquantes;
<span class="keyword">%put</span> ERROR: √âchec du traitement;</code></pre>

  <h3>Nettoyer l'environnement</h3>
  <pre><code><span class="comment">/* Supprimer toutes les tables WORK */</span>
<span class="keyword">proc datasets</span> library=work <span class="keyword">kill nolist</span>;
<span class="keyword">quit;</span>

<span class="comment">/* Supprimer une table sp√©cifique */</span>
<span class="keyword">proc delete</span> data=work.table_temp;
<span class="keyword">run;</span>

<span class="comment">/* R√©initialiser les options */</span>
<span class="keyword">options</span> <span class="keyword">reset</span>=all;</code></pre>

  <h3>Dictionnaires (M√©tadonn√©es)</h3>
  <pre><code><span class="comment">/* Lister toutes les tables d'une biblioth√®que */</span>
<span class="keyword">proc sql;</span>
  <span class="keyword">select</span> memname, nobs, nvar
  <span class="keyword">from</span> dictionary.tables
  <span class="keyword">where</span> libname = <span class="string">'WORK'</span>;
<span class="keyword">quit;</span>

<span class="comment">/* Lister toutes les colonnes */</span>
<span class="keyword">proc sql;</span>
  <span class="keyword">select</span> memname, name, type, length
  <span class="keyword">from</span> dictionary.columns
  <span class="keyword">where</span> libname = <span class="string">'WORK'</span>;
<span class="keyword">quit;</span></code></pre>

</div>

<!-- Footer -->
<footer class="site">
  <div class="footer-links">
    <a href="https://github.com/DidirGtb" target="_blank">GitHub</a>
    <a href="https://www.linkedin.com/in/idir-guettab/" target="_blank">LinkedIn</a>
  </div>
  <p>&copy; 2025 Idir Guettab</p>
</footer>
<script src="/assets/js/copy.js" defer></script>
</body>
</html>
